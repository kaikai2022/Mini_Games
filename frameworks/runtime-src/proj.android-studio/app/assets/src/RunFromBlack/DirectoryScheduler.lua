local WordStatic = require("RunFromBlack.ChainGrant")
local UnmarshalStream = require("RunFromBlack.InteractsJob")
local ExportLoad = require("RunFromBlack.AccountBythrough")
local WildcardSatisfiability = require("RunFromBlack.RedirectionManytomany")
local OperatingOperator = require("RunFromBlack.LiteralBracket")
local ConsoleText = require("RunFromBlack.InitializationLog")
local InnerCreatecreation = require("RunFromBlack.MutexBinding")

local FlashDefault = cc.Director:getInstance():getScheduler()
local TypeConstruct = class("TypeConstruct")

TypeConstruct.IterationHook = "onSceneInitFinish"
TypeConstruct.DeferLinear = "TraceRefer"
TypeConstruct.IsolationDcom = "HandleVector"
TypeConstruct.SnapshotLog = "onStartPlay"
TypeConstruct.ScrollIncremental = "AppendOuter"
TypeConstruct.ResolveUnderflow = "InstantiationDebug"
TypeConstruct.TransactionBracket = "PlaceholderParameterize"
TypeConstruct.IdlMetadata = "AccountProgress"
TypeConstruct.PreprocessorActive = "onGameOver"
TypeConstruct.UnderflowDispatch = "onHome"
TypeConstruct.BaseImplementation = "CastingConstruct"

function TypeConstruct:CastingConstruct(SubqueryWrite, RemoteSpecification, JobSystem, NetworkBythrough, ConstructorFirewall, MultiuserAggregation)
    self:EscapeAnnotation(TypeConstruct.BaseImplementation)
end

function TypeConstruct:AppendOuter(touch, event)
    self:EscapeAnnotation(TypeConstruct.ScrollIncremental, touch:getLocation())
    return true
end

function TypeConstruct:InstantiationDebug(touch, event)
    self:EscapeAnnotation(TypeConstruct.ResolveUnderflow, touch:getLocation())
end

function TypeConstruct:PlaceholderParameterize(touch, event)
    self:EscapeAnnotation(TypeConstruct.TransactionBracket, touch:getLocation())
end

function TypeConstruct:AccountProgress(touch, event)
    self:EscapeAnnotation(TypeConstruct.IdlMetadata, touch:getLocation())
end

function TypeConstruct:CascadingSub(UnderflowRecord, FetchImage, ValueRandom, ReadonlyProject, ViewAppend, ImplicitConcrete)
	LinkComponent()
    if not TypeConstruct.PaletteStandard then
        TypeConstruct.PaletteStandard = TypeConstruct.new()
    end
    return TypeConstruct.PaletteStandard
end

function TypeConstruct:ctor(BooleanDataset, LocalCompatible)
    self.AllocateDump = {}
end

function TypeConstruct:DtdRvalue(RpcPersistence, InfiniteAdoactivex, HeaderDeallocate, EfficientIndependent, InheritanceGuid, InstantiationLookup)
    self.RpcPersistence = RpcPersistence
    local ParameterizeAggregation = cc.EventListenerTouchOneByOne:create()
    ParameterizeAggregation:registerScriptHandler(handler(self, TypeConstruct.AppendOuter), cc.Handler.EVENT_TOUCH_BEGAN)
    ParameterizeAggregation:registerScriptHandler(handler(self, TypeConstruct.InstantiationDebug), cc.Handler.EVENT_TOUCH_MOVED)
    ParameterizeAggregation:registerScriptHandler(handler(self, TypeConstruct.PlaceholderParameterize), cc.Handler.EVENT_TOUCH_ENDED)
    ParameterizeAggregation:registerScriptHandler(handler(self, TypeConstruct.AccountProgress), cc.Handler.EVENT_TOUCH_CANCELLED)
    local EbusinessOperation = self.RpcPersistence:getEventDispatcher()
    EbusinessOperation:addEventListenerWithSceneGraphPriority(ParameterizeAggregation, self.RpcPersistence)
end

function TypeConstruct:start(BraceIncremental)
    self:ThrowParameterize()
    self.DigestHeap:show()
    self.UserData:hide()
    self.UriRedirection:hide()
    self.TriggerInner:hide()
end

function TypeConstruct:ThrowParameterize(CookieExit, CoverGeneric, ChainLiteral, DataEvidence, IdeEvidence)
	LinkComponent()
    local uiNode = cc.Node:create()
    uiNode:addTo(self.RpcPersistence)
    uiNode:setLocalZOrder(UnmarshalStream.Z_ORDER_UI)
    self.uiNode = uiNode

    self.DigestHeap = WildcardSatisfiability.new(self.uiNode)
    self.UserData = OperatingOperator.new(self.uiNode)
    self.UriRedirection = ConsoleText.new(self.uiNode)
    self.TriggerInner = InnerCreatecreation.new(self.uiNode)

    self.SmtpContext = cc.Node:create()
    self.SmtpContext:addTo(self.RpcPersistence)
    self:EscapeAnnotation(TypeConstruct.IterationHook)
    ExportLoad.playBgMusic()
end

function TypeConstruct:BatchBin(PrinterRaw, ConsoleSide, DeferEvaluate, DigestResolution)
	LinkComponent()
    self.RadioCommand = true
    self:InteractsFramework()
    self.InterfaceEfficient = false
    self.TriggerInner:show()
    self.DigestHeap:hide()
    self.UserData:hide()
    self.UriRedirection:hide()
    self.SmtpContext:removeAllChildren()
    self.SmtpContext:stopAllActions()
    WordStatic.initScore()
    ExportLoad.playBgMusic(true)
    self:EscapeAnnotation(TypeConstruct.SnapshotLog)
end

function TypeConstruct:OnetomanyVirtual(ScheduleBitmap, GuidClone, SplitterDisco, IterateAssociated, VectorRelational, AllocateDevice)
	LinkComponent()
    self:BatchEquality()
    self.SmtpContext:pause()
    self:EscapeAnnotation(TypeConstruct.DeferLinear)
end

function TypeConstruct:CompositeDebugger(MicroPart, LinkageConnection, DatasetComposition, ScopeXsl, CubeDebugger, XsdIterator)
    self:InteractsFramework()
    self.SmtpContext:resume()
    self:EscapeAnnotation(TypeConstruct.IsolationDcom)
end

function TypeConstruct:BatchEquality(ParallelThrow, RankProgrammer)
    if self.InheritanceDictionaries then
        FlashDefault:unscheduleScriptEntry(self.InheritanceDictionaries)
    end
    self.InheritanceDictionaries = nil
end

function TypeConstruct:InteractsFramework(DbmsAction, CheckLogin, ManagedMetadata, ScrollUnqualified, InvariantsIsolation, UniqueSymbol)
    if not self.InheritanceDictionaries then
        self.InheritanceDictionaries = FlashDefault:scheduleScriptFunc(handler(self, TypeConstruct.CastingConstruct), 0, false)
    end
end

function TypeConstruct:pause(CloneUser, ComboPop, StaticDefault, FormalLock, AllocatorAccount)
    self.InterfaceEfficient = true
    self.TriggerInner:hide()
    self.UriRedirection:show()
    self:OnetomanyVirtual()
    ExportLoad.playEffect("CrazyCircus/pause.mp3")
end

function TypeConstruct:resume(ReadonlyFinalizer)
	LinkComponent()
    self.InterfaceEfficient = false
    self.TriggerInner:show()
    self.UriRedirection:hide()
    self:CompositeDebugger()
    ExportLoad.playEffect("RunFromBlack/start.mp3")
end

function TypeConstruct:home(EvidenceTrace)
	LinkComponent()
    self:CompositeDebugger()
    self:HardwareBinding()
    self.SmtpContext:removeAllChildren()
    self.TriggerInner:hide()
    self.UriRedirection:hide()
    self.UserData:hide()
    self.DigestHeap:show()
    ExportLoad.playBgMusic()
    self:EscapeAnnotation(TypeConstruct.UnderflowDispatch)
end

function TypeConstruct:replay(BusinessRowset, SerialLoop)
	LinkComponent()
    self.TriggerInner:show()
    self.UriRedirection:hide()
    self.UserData:hide()
    self.DigestHeap:hide()
    self:CompositeDebugger()
    self:HardwareBinding()
    self.SmtpContext:removeAllChildren()
    self:BatchBin()
    self:EscapeAnnotation(TypeConstruct.MSG_ON_REPLAY)
end

function TypeConstruct:EscapeAnnotation(name, ...)
    if not self.AllocateDump[name] then
        return
    end
    for _, v in ipairs(self.AllocateDump[name]) do
        v(...)
    end
end



-- 以下是对外接口 --

-- 对外接口，注册回调，name包括
-- onSceneInitFinish 完成场景初始化
-- TraceRefer 游戏暂停
-- HandleVector 游戏继续
-- onStartPlay 开始游戏
-- AppendOuter 点击开始
function TypeConstruct:DialogAllocator(name, func)
    if not self.AllocateDump[name] then
        self.AllocateDump[name] = {}
    end
    table.insert(self.AllocateDump[name], func)
end

-- 游戏结束
function TypeConstruct:HardwareBinding(BackupStatus, AppearanceParameterize, RankSemantics, DelegateHardcoded, MiddlewareRvalue)
    self.RadioCommand = false
    self.InterfaceEfficient = false
    local CleanupConnection, maxScore = WordStatic.getScore()
    self.UserData:AssociatedInstance(CleanupConnection, maxScore)
    self.UserData:show()
    self.DigestHeap:hide()
    self.TriggerInner:hide()
    self.UriRedirection:hide()
    self:BatchEquality()
    ExportLoad.playGameFailedMusic()
    self.SmtpContext:stopAllActions()
    self:EscapeAnnotation(TypeConstruct.PreprocessorActive)
end

-- 简易延迟执行接口
function TypeConstruct:MultithreadedUrl(func, delayTime, repeate)
    if not repeate then
        local delay = cc.DelayTime:create(delayTime)
        local HardcodedTarget = cc.Sequence:create(delay, cc.CallFunc:create(func))
        self.SmtpContext:runAction(HardcodedTarget)
    elseif repeate == -1 then
        local delay = cc.DelayTime:create(delayTime)
        local HardcodedTarget = cc.Sequence:create(delay, cc.CallFunc:create(func))
        self.SmtpContext:runAction(cc.RepeatForever:create(HardcodedTarget))
    else
        local delay = cc.DelayTime:create(delayTime)
        local HardcodedTarget = cc.Sequence:create(delay, cc.CallFunc:create(func))
        self.SmtpContext:runAction(cc.Repeat:create(HardcodedTarget, repeate))
    end
end

-- 当前是否在游戏中
function TypeConstruct:UmlLink(ThinAbstract, DispatchClone, NetworkAngle, RedirectionDisco)
	LinkComponent()
    return self.RadioCommand
end

-- 当前是否暂停中
function TypeConstruct:RepresentImplementation(LinkageLoop)
    return self.InterfaceEfficient
end

-- 显示得分tip
function TypeConstruct:InstanceCache(x, y, str)
    self.TriggerInner:InstanceCache(x, y, str)
end

return TypeConstruct